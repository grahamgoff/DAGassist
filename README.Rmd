---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  collapse = TRUE, comment = NA,
  fig.path = "man/figures/README-", out.width = "100%"
)

devtools::load_all(quiet = TRUE)

library(fixest)
```

```{r col, include=FALSE}
# make knitr treat output as plain text (no ANSI)
options(
  DAGassist.color = FALSE,  # we'll wire this up below
  crayon.enabled = FALSE
)
Sys.setenv(NO_COLOR = "1")
```

# DAGassist

<!-- badges: start -->
[![R-CMD-check](https://github.com/grahamgoff/DAGassist/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/grahamgoff/DAGassist/actions/workflows/R-CMD-check.yaml)
[![pages-build-deployment](https://github.com/grahamgoff/DAGassist/actions/workflows/pages/pages-build-deployment/badge.svg)](https://github.com/grahamgoff/DAGassist/actions/workflows/pages/pages-build-deployment)
<!-- badges: end -->

**An all-in-one DAG-driven robustness check.**
Classify variables by causal role, compute the smallest and largest permissible back-door adjustment sets, and compare the significance of models.

See the [Making Reports](https://grahamgoff.github.io/DAGassist/articles/making-reports.html) vignette for details on producing publication-quality DAGassist reports in `LaTex`, `Word`, `Excel`, and `plaintext`. 

## Installation

You can install the development version of DAGassist from [GitHub](https://github.com/grahamgoff/DAGassist) with:

```{r install, eval = FALSE}
install.packages("pak")
pak::pak("grahamgoff/DAGassist")

#load the library
library(DAGassist) 
```

## Quick start (console)

```{r run}
DAGassist(dag = test_complex, 
          formula = feols(Y ~ X + Z + B + A + C + M | region + time, data = test_df))
```

## Export your results in LaTeX, Word, Excel, or plain text

```{r export}
DAGassist( 
  test_complex, Y ~ X + Z + C + M + A + B, test_df,
  type = "latex", out = "man/figures/README-latex.tex"
)
```

```{r figure, echo=FALSE, out.width="75%", message=FALSE, warning=FALSE}
knitr::include_graphics("man/figures/README-latex.png")
```

## Controlling DAG-based additions

By default `imply` = FALSE so no variables are added to your spec based on the
relationships in your DAG. Set `imply` = TRUE to get the complete minimal and 
canonical adjustment sets, based on your DAG.

```{r imply}
DAGassist(
  dag = test_complex,
  formula = lm(Y~X+C, data = test_df),
  imply = TRUE
)
```

