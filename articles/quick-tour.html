<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>DAGassist in 10 minutes • DAGassist</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="DAGassist in 10 minutes">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">DAGassist</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/grahamgoff/DAGassist/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>DAGassist in 10 minutes</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/grahamgoff/DAGassist/blob/main/vignettes/quick-tour.Rmd" class="external-link"><code>vignettes/quick-tour.Rmd</code></a></small>
      <div class="d-none name"><code>quick-tour.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="what-youll-learn">What you’ll learn<a class="anchor" aria-label="anchor" href="#what-youll-learn"></a>
</h2>
<ul>
<li>How to go from a <code>dagitty</code> DAG + formula to a compact
report</li>
<li>How to interpret <code>Original</code> vs <code>Minimal</code> vs
<code>Canonical</code>
</li>
<li>How to export to <code>LaTeX</code> / <code>Word</code> /
<code>Excel</code> / <code>text</code>
</li>
</ul>
<div class="section level3">
<h3 id="load-packages">Load packages<a class="anchor" aria-label="anchor" href="#load-packages"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/grahamgoff/DAGassist" class="external-link">DAGassist</a></span><span class="op">)</span></span>
<span><span class="co"># load helper libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://modelsummary.com" class="external-link">modelsummary</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.dagitty.net" class="external-link">dagitty</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="make-your-dag-and-data">Make your DAG and data<a class="anchor" aria-label="anchor" href="#make-your-dag-and-data"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">500</span></span>
<span><span class="va">Z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span>
<span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span>
<span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fl">0.6</span><span class="op">*</span><span class="va">Z</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span>
<span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fl">0.5</span><span class="op">*</span><span class="va">X</span> <span class="op">+</span> <span class="fl">0.3</span><span class="op">*</span><span class="va">Z</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span>
<span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="fl">1.0</span><span class="op">*</span><span class="va">X</span> <span class="op">+</span> <span class="fl">0.0</span><span class="op">*</span><span class="va">M</span> <span class="op">+</span> <span class="fl">0.5</span><span class="op">*</span><span class="va">Z</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">Y</span>, <span class="va">X</span>, <span class="va">M</span>, <span class="va">Z</span>, <span class="va">A</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dag_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/dagitty/man/dagitty.html" class="external-link">dagitty</a></span><span class="op">(</span><span class="st">'</span></span>
<span><span class="st">  dag {</span></span>
<span><span class="st">    Z -&gt; X</span></span>
<span><span class="st">    Z -&gt; Y</span></span>
<span><span class="st">    A -&gt; Y</span></span>
<span><span class="st">    X -&gt; M</span></span>
<span><span class="st">    X -&gt; Y</span></span>
<span><span class="st">    M -&gt; Y</span></span>
<span><span class="st">    X [exposure]</span></span>
<span><span class="st">    Y [outcome]</span></span>
<span><span class="st">  }'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="generate-a-console-report-with-dagassist">Generate a console report with <code>DAGassist</code><a class="anchor" aria-label="anchor" href="#generate-a-console-report-with-dagassist"></a>
</h3>
<p>See the <a href="https://grahamgoff.github.io/DAGassist/articles/get-started.html">Getting
Started</a> vignette for a guide on using different parameters get the
most out of DAGassist. For the purpose of this tutorial, we will keep it
simple.</p>
<p>See the <a href="https://grahamgoff.github.io/DAGassist/articles/compatability.html">Supported
Models</a> vignette for documentation on what engines
<code>DAGassist</code> supports. Since <code>DAGassist</code> is
model-agnostic, if an engine accepts a standard
<code>formula + data</code> interface, it will usually work.</p>
<p><strong>Interpreting the output:</strong></p>
<ul>
<li>
<code>Bad controls</code> are variables that, when adjusted for,
open spurious correlations between the independent and dependent
variable. <code>DAGassist</code> seeks to identify these controls and
clarify their effect on your <code>Original model</code>.</li>
<li>
<code>Minimal</code> is the smallest adjustment set necessary to
close all back-door paths from the independent to the dependent
variable.</li>
<li>
<code>Canonical</code> is the largest permissable adjustment set.
Essentially, the <code>canonical</code> set contains all control
variables that are not <code>bad</code>.</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/DAGassist.html">DAGassist</a></span><span class="op">(</span></span>
<span>  dag <span class="op">=</span> <span class="va">dag_model</span>,</span>
<span>  formula <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="va">X</span> <span class="op">+</span> <span class="va">M</span> <span class="op">+</span> <span class="va">Z</span> <span class="op">+</span> <span class="va">A</span>, data <span class="op">=</span> <span class="va">df</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; DAGassist Report: </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Roles:</span></span>
<span><span class="co">#&gt; variable  role        X  Y  conf  med  col  IO  dMed  dCol</span></span>
<span><span class="co">#&gt; X         exposure    x                                   </span></span>
<span><span class="co">#&gt; Y         outcome        x                      x         </span></span>
<span><span class="co">#&gt; Z         confounder        x                             </span></span>
<span><span class="co">#&gt; M         mediator                x                       </span></span>
<span><span class="co">#&gt; A         other                                           </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  (!) Bad controls in your formula: {M}</span></span>
<span><span class="co">#&gt; Minimal controls 1: {Z}</span></span>
<span><span class="co">#&gt; Canonical controls: {A, Z}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Formulas:</span></span>
<span><span class="co">#&gt;   original:  Y ~ X + M + Z + A</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model comparison:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +---+----------+-----------+-----------+</span></span>
<span><span class="co">#&gt; |   | Original | Minimal 1 | Canonical |</span></span>
<span><span class="co">#&gt; +===+==========+===========+===========+</span></span>
<span><span class="co">#&gt; | X | 1.063*** | 1.056***  | 1.056***  |</span></span>
<span><span class="co">#&gt; +---+----------+-----------+-----------+</span></span>
<span><span class="co">#&gt; |   | (0.051)  | (0.046)   | (0.046)   |</span></span>
<span><span class="co">#&gt; +---+----------+-----------+-----------+</span></span>
<span><span class="co">#&gt; | M | -0.015   |           |           |</span></span>
<span><span class="co">#&gt; +---+----------+-----------+-----------+</span></span>
<span><span class="co">#&gt; |   | (0.047)  |           |           |</span></span>
<span><span class="co">#&gt; +---+----------+-----------+-----------+</span></span>
<span><span class="co">#&gt; | Z | 0.456*** | 0.451***  | 0.451***  |</span></span>
<span><span class="co">#&gt; +---+----------+-----------+-----------+</span></span>
<span><span class="co">#&gt; |   | (0.055)  | (0.053)   | (0.053)   |</span></span>
<span><span class="co">#&gt; +---+----------+-----------+-----------+</span></span>
<span><span class="co">#&gt; | A | 0.007    |           | 0.007     |</span></span>
<span><span class="co">#&gt; +---+----------+-----------+-----------+</span></span>
<span><span class="co">#&gt; |   | (0.046)  |           | (0.046)   |</span></span>
<span><span class="co">#&gt; +===+==========+===========+===========+</span></span>
<span><span class="co">#&gt; | + p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01,  |</span></span>
<span><span class="co">#&gt; | *** p &lt; 0.001                        |</span></span>
<span><span class="co">#&gt; +===+==========+===========+===========+</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="exporting">Exporting<a class="anchor" aria-label="anchor" href="#exporting"></a>
</h3>
<p>See the <a href="https://grahamgoff.github.io/DAGassist/articles/making-reports.html">Making
Reports</a> vignette for more detailed information on producing
publication-quality <code>DAGassist</code> reports in
<code>LaTex</code>, <code>Word</code>, <code>Excel</code>, and
<code>plaintext</code>.</p>
<p>Since <code>DAGassist</code> is designed to make appendix robustness
checks, this is an example of how to output a report in
<code>LaTeX</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#initialize a temporary path</span></span>
<span><span class="va">out_tex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"dagassist_report.tex"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/DAGassist.html">DAGassist</a></span><span class="op">(</span></span>
<span>  dag <span class="op">=</span> <span class="va">dag_model</span>,</span>
<span>  formula <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="va">X</span> <span class="op">+</span> <span class="va">M</span> <span class="op">+</span> <span class="va">Z</span> <span class="op">+</span> <span class="va">A</span>, data <span class="op">=</span> <span class="va">df</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"latex"</span>, </span>
<span>  out <span class="op">=</span> <span class="va">out_tex</span><span class="op">)</span> <span class="co">#put your output directory and file name here</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="va">out_tex</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span> <span class="co"># show the output</span></span>
<span><span class="co">#&gt; % ---- DAGassist LaTeX fragment (no preamble) ----</span></span>
<span><span class="co">#&gt; % Requires: \usepackage{tabularray} \UseTblrLibrary{booktabs,siunitx,talltblr}</span></span>
<span><span class="co">#&gt; \begingroup\footnotesize</span></span>
<span><span class="co">#&gt; \begingroup\setlength{\emergencystretch}{3em}</span></span>
<span><span class="co">#&gt; \begin{longtblr}[presep=0pt, postsep=0pt, caption={DAGassist Report:}, label={tab:dagassist}]%</span></span>
<span><span class="co">#&gt; {width=\textwidth,colsep=1.5pt,rowsep=0pt,abovesep=0pt,belowsep=0pt,colspec={X[35,l]X[15,l]X[8,c]X[8,c]X[8,c]X[8,c]X[8,c]X[8,c]X[8,c]X[8,c]X[8,c]}}</span></span>
<span><span class="co">#&gt; \toprule</span></span>
<span><span class="co">#&gt; Variable &amp; Role &amp; X &amp; Y &amp; CON &amp; MED &amp; COL &amp; is_descendant_of_outcome &amp; is_descendant_of_exposure &amp; dMed &amp; dCol \\</span></span>
<span><span class="co">#&gt; \midrule</span></span>
<span><span class="co">#&gt; A &amp; other &amp;  &amp;  &amp;  &amp;  &amp;  &amp;  &amp;  &amp;  &amp;  \\</span></span>
<span><span class="co">#&gt; M &amp; mediator &amp;  &amp;  &amp;  &amp; x &amp;  &amp;  &amp; x &amp;  &amp;  \\</span></span>
<span><span class="co">#&gt; X &amp; exposure &amp; x &amp;  &amp;  &amp;  &amp;  &amp;  &amp;  &amp;  &amp;  \\</span></span>
<span><span class="co">#&gt; Y &amp; outcome &amp;  &amp; x &amp;  &amp;  &amp;  &amp;  &amp; x &amp; x &amp;  \\</span></span>
<span><span class="co">#&gt; Z &amp; confounder &amp;  &amp;  &amp; x &amp;  &amp;  &amp;  &amp;  &amp;  &amp;  \\</span></span>
<span><span class="co">#&gt; \bottomrule</span></span>
<span><span class="co">#&gt; \end{longtblr}</span></span>
<span><span class="co">#&gt; \endgroup</span></span>
<span><span class="co">#&gt; % no vertical glue between tables</span></span>
<span><span class="co">#&gt; \nointerlineskip</span></span>
<span><span class="co">#&gt; \begin{longtblr}[presep=0pt,postsep=0pt,%% tabularray outer open</span></span>
<span><span class="co">#&gt; entry=none,label=none,</span></span>
<span><span class="co">#&gt; note{}={+ p \num{&lt; 0.1}, * p \num{&lt; 0.05}, ** p \num{&lt; 0.01}, *** p \num{&lt; 0.001}},</span></span>
<span><span class="co">#&gt; ]                     %% tabularray outer close</span></span>
<span><span class="co">#&gt; {                     %% tabularray inner open</span></span>
<span><span class="co">#&gt; colspec={X[]X[]X[]X[]},</span></span>
<span><span class="co">#&gt; column{2-4}={}{halign=c,},</span></span>
<span><span class="co">#&gt; column{1}={}{halign=l,},</span></span>
<span><span class="co">#&gt; hline{10}={1-4}{solid, black, 0.05em},</span></span>
<span><span class="co">#&gt; }                     %% tabularray inner close</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; &amp; Original &amp; Minimal 1 &amp; Canonical \\ \midrule %% TinyTableHeader</span></span>
<span><span class="co">#&gt; X &amp; \num{1.063}*** &amp; \num{1.056}*** &amp; \num{1.056}*** \\</span></span>
<span><span class="co">#&gt; &amp; (\num{0.051}) &amp; (\num{0.046}) &amp; (\num{0.046}) \\</span></span>
<span><span class="co">#&gt; M &amp; \num{-0.015} &amp;  &amp;  \\</span></span>
<span><span class="co">#&gt; &amp; (\num{0.047}) &amp;  &amp;  \\</span></span>
<span><span class="co">#&gt; Z &amp; \num{0.456}*** &amp; \num{0.451}*** &amp; \num{0.451}*** \\</span></span>
<span><span class="co">#&gt; &amp; (\num{0.055}) &amp; (\num{0.053}) &amp; (\num{0.053}) \\</span></span>
<span><span class="co">#&gt; A &amp; \num{0.007} &amp;  &amp; \num{0.007} \\</span></span>
<span><span class="co">#&gt; &amp; (\num{0.046}) &amp;  &amp; (\num{0.046}) \\</span></span>
<span><span class="co">#&gt; Num.Obs. &amp; \num{500} &amp; \num{500} &amp; \num{500} \\</span></span>
<span><span class="co">#&gt; R2 &amp; \num{0.714} &amp; \num{0.714} &amp; \num{0.714} \\</span></span>
<span><span class="co">#&gt; \bottomrule</span></span>
<span><span class="co">#&gt; \end{longtblr}</span></span>
<span><span class="co">#&gt; \par\endgroup</span></span>
<span><span class="co">#&gt; \vspace{1em}</span></span>
<span><span class="co">#&gt; \footnotesize</span></span>
<span><span class="co">#&gt; \textit{Controls (minimal):} {Z}\\</span></span>
<span><span class="co">#&gt; \textit{Controls (canonical):} {A, Z}</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Graham Goff.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
